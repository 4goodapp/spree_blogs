<div class="container">
  <%= render partial: 'spree/shared/blogs_breadcrumbs', locals: { blog: nil, tag: nil, post: nil } %>
  <div class="row">
    <h1>Blog: <%= @blog.title %></h1>
  </div>

<div class="row">
  <div class="col-8">
    <% @posts.each do |post| %>
      <div class="row my-5">
        <% if post.post_image.present? %>
          <div class="post-img col-4" style="--aspect-ratio:1/1;">
            <%= image_tag(main_app.url_for(post.post_image.attachment),
                          options = { class:'lazyload',
                                      alt: post.post_image.alt,
                                      data: { src: main_app.url_for(post.post_image.attachment),
                                              srcset: main_app.url_for(post.post_image.attachment) }
                                    }) %>
          </div>
        <% end %>
          <div class="col-8">
            <h2> <%= link_to post.title, blog_post_in_blog_path(@blog, post) %></h2>
            <p><%= post.excerpt %></p>
            <p><%= link_to 'read more ...', blog_post_in_blog_path(@blog, post) %></p>
          </div>
      </div>
    <% end %>
  </div>

  <div class="col-4">
    <%= render partial: 'spree/shared/tag_cloud', locals: { posts: @posts } %>
  </div>
</div>
